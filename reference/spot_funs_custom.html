<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Engine that runs spot_funs(). spot_funs_custom() has options for changing
returned output and for producing print statements and errors. It also
requires you to provide a character vector for pkgs rather than identifying
these automatically via spot_pkgs()."><title>Spot Functions Custom — spot_funs_custom • funspotr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Spot Functions Custom — spot_funs_custom"><meta property="og:description" content="Engine that runs spot_funs(). spot_funs_custom() has options for changing
returned output and for producing print statements and errors. It also
requires you to provide a character vector for pkgs rather than identifying
these automatically via spot_pkgs()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">funspotr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/brshallo/funspotr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Spot Functions Custom</h1>
      <small class="dont-index">Source: <a href="https://github.com/brshallo/funspotr/blob/HEAD/R/spot-funs.R" class="external-link"><code>R/spot-funs.R</code></a></small>
      <div class="d-none name"><code>spot_funs_custom.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Engine that runs <code><a href="spot_funs.html">spot_funs()</a></code>. <code>spot_funs_custom()</code> has options for changing
returned output and for producing print statements and errors. It also
requires you to provide a character vector for <code>pkgs</code> rather than identifying
these automatically via <code><a href="spot_pkgs.html">spot_pkgs()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">spot_funs_custom</span><span class="op">(</span>
  <span class="va">pkgs</span>,
  <span class="va">file_path</span>,
  show_each_use <span class="op">=</span> <span class="cn">FALSE</span>,
  keep_search_list <span class="op">=</span> <span class="cn">FALSE</span>,
  copy_local <span class="op">=</span> <span class="cn">TRUE</span>,
  print_pkgs_load_status <span class="op">=</span> <span class="cn">FALSE</span>,
  error_if_missing_pkg <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>pkgs</dt>
<dd><p>Character vector of packages that are added to search space via
<code><a href="https://rdrr.io/r/base/library.html" class="external-link">require()</a></code> or <code><a href="https://rdrr.io/pkg/import/man/importfunctions.html" class="external-link">import::from()</a></code> so can be found by <code><a href="https://rdrr.io/r/utils/apropos.html" class="external-link">utils::find()</a></code>.
Generally will be the returned value from <code>spot_pkgs(file_path, show_explicit_funs = TRUE)</code>.</p></dd>
<dt>file_path</dt>
<dd><p>character vector of path to file.</p></dd>
<dt>show_each_use</dt>
<dd><p>Logical, default is <code>FALSE</code>. If changed to <code>TRUE</code> will
return individual rows for each time a function is used (rather than just
once for the entire file).</p></dd>
<dt>keep_search_list</dt>
<dd><p>Logical, default is <code>TRUE</code>. If changed to <code>FALSE</code>
will include entire search list for function. May be helpful for debugging
in cases where funspotr may not be doing a good job of recreating the
search list for identifying which packages function(s) came from. This will
print all packages in the search list for each function.</p></dd>
<dt>copy_local</dt>
<dd><p>Logical, if changed to <code>FALSE</code> will not copy to a local
temporary folder prior to doing analysis. Many functions require file to
already be an .R file and for the file to exist locally. This should
generally not be set to <code>TRUE</code> unless these hold.</p></dd>
<dt>print_pkgs_load_status</dt>
<dd><p>Logical, default is <code>FALSE</code>. If set to <code>TRUE</code>
will print a named vector of logicals showing whether packages are on
machine along with any warning messages that come when running <code><a href="https://rdrr.io/r/base/library.html" class="external-link">require()</a></code>.
Will continue on to produce output of function.</p></dd>
<dt>error_if_missing_pkg</dt>
<dd><p>Logical, default is <code>FALSE</code>. If set to <code>TRUE</code> then
<code>print_pkgs_load_status = TRUE</code> automatically. If a package is not
installed on the machine then will print load status of individual pkgs and
result in an error.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Given default arguments and no missing packages, a dataframe with the
following columns is returned:
<code>funs</code>: specifying functions in file.
<code>pkgs</code>: the package a function came from. If <code>funs</code> is a custom function or
if it came from a package not installed on your machine, <code>pkgs</code> will return
"(unknown)".
<code>in_multiple_pkgs</code>: logical, whether a function exists in multiple packages
loaded (i.e. on the search space of <code><a href="https://rdrr.io/r/utils/apropos.html" class="external-link">utils::find()</a></code>.
Note that any unused loaded packages/ <code>pkgs</code> are dropped from output.
Any functions without an available package are returned with the value
"(unknown)".
See README for further documentation.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>spot_funs_custom()</code> is what you should use in cases where you don't trust
<code><a href="spot_pkgs.html">spot_pkgs()</a></code> to properly identify package dependencies from within the same
file and instead want to pass in your own character vector of packages.</p>
<p>HOW IT WORKS: See README</p>
<p>If a package is not included in <code>pkgs</code>, any functions called that should come
from that package will be assigned to value of "(unknown)" in the <code>pkgs</code>
column of the returned output. You can also use the <code>print_pkgs_load_status</code>
and <code>error_if_missing_pkg</code> arguments to alter how output works in cases when
not all packages are on the machine.</p>
<p>Explicit calls to unexported functions i.e. <code>pkg:::fun()</code> will have <code>pkgs = "(unknown)"</code> in the returned dataframe.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>spot_funs</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://brshallo.github.io/funspotr/">funspotr</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">file_lines</span> <span class="op">&lt;-</span> <span class="st">"</span>
<span class="r-in">library(dplyr)</span>
<span class="r-in">require(tidyr)</span>
<span class="r-in">library(madeUpPkg)</span>
<span class="r-in"></span>
<span class="r-in">as_tibble(mpg) %&gt;%</span>
<span class="r-in">  group_by(class) %&gt;%</span>
<span class="r-in">  nest() %&gt;%</span>
<span class="r-in">  mutate(stats = purrr::map(data,</span>
<span class="r-in">                            ~lm(cty ~ hwy, data = .x)))</span>
<span class="r-in"></span>
<span class="r-in">made_up_fun()</span>
<span class="r-in">"</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">file_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".R"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">file_lines</span>, <span class="va">file_output</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="spot_pkgs.html">spot_pkgs</a></span><span class="op">(</span><span class="va">file_output</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">spot_funs_custom</span><span class="op">(</span><span class="va">pkgs</span>, <span class="va">file_output</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   funs        pkgs      in_multiple_pkgs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> library     base      FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> require     base      FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> as_tibble   tidyr     TRUE            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> group_by    dplyr     FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> nest        tidyr     FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> mutate      dplyr     FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> map         purrr     FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> lm          stats     FALSE           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span> made_up_fun (unknown) FALSE           </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If you'd rather it error when a pkg doesn't exist (e.g. {madeUpPkg})</span></span>
<span class="r-in"><span class="co"># You could run:</span></span>
<span class="r-in"><span class="co"># spot_funs_custom(pkgs, file_output, error_if_missing_pkg = TRUE)</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Bryan Shalloway.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

